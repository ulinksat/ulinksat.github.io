<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>Docker_PetaLinux_2022.1</title>

    <style type="text/css">
    div.code-toolbar > div.toolbar {
    display: none;
}

    </style>

    <style type="text/css">
    *,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

.col-12 {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100%;
    flex: 0 0 100%;
    max-width: 100%;
}

@media (min-width: 768px) {
    .col-md-3 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}

@media (min-width: 768px) {
    .col-md-9 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
}

@media (min-width: 1200px) {
    .col-xl-2 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 16.666667%;
        flex: 0 0 16.666667%;
        max-width: 16.666667%;
    }
}

@media (min-width: 1200px) {
    .col-xl-10 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 83.333333%;
        flex: 0 0 83.333333%;
        max-width: 83.333333%;
    }
}

@media (min-width: 768px) {
    .pt-md-3, .py-md-3 {
        padding-top: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pb-md-3, .py-md-3 {
        padding-bottom: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pl-md-5, .px-md-5 {
        padding-left: 3rem!important;
    }
}

.d-none {
    display: none!important;
}

@media (min-width: 1200px) {
    .d-xl-block {
        display: block!important;
    }
}

@media (min-width: 768px) {
    .d-md-block {
        display: block!important;
    }
}

.bd-content {
    -webkit-box-ordinal-group: 1;
    -ms-flex-order: 0;
    order: 0;
}

.bd-toc {
    position: -webkit-sticky;
    position: sticky;
    top: 4rem;
    height: calc(100vh - 10rem);
    overflow-y: auto;
}

.bd-toc {
    -webkit-box-ordinal-group: 2;
    -ms-flex-order: 1;
    order: 1;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    font-size: .875rem;
}

.section-nav {
    padding-left: 0;
}

.section-nav ul {
    font-size: .875rem;
    list-style-type: none;
}

.section-nav li {
    font-size: .875rem;
}

.section-nav a {
    color: inherit !important;
    white-space: nowrap;
}

.row {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

@media (min-width: 1200px) {
    .flex-xl-nowrap {
        flex-wrap: nowrap !important;
    }
}

#floating-button {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #00897B;
    position: fixed;
    top: .5rem;
    right: .5rem;
    cursor: pointer;
    box-shadow: 0px 2px 5px #666;
}

#floating-button .more {
    color: #F5F5F5;
    position: absolute;
    top: 0;
    display: block;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0;
    margin: 0;
    line-height: 2.5rem;
    font-size: 2rem;
    font-family: 'monospace';
    font-weight: 300;
}

.hide-none {
    display: none !important;
}

.col-expand {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100% !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    padding-right: 3rem !important;
}

.outline-bold {
    font-weight: bolder !important;
}

@media print {
    #floating-button {
        display: none !important;
    }
}


    #vx-content.vx-section-number, #vx-content.vx-section-number-2 h1, #vx-content.vx-section-number-3 h1, #vx-content.vx-section-number-3 h2 { counter-reset: section1 0 section2 0 section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h1, #vx-content.vx-section-number-2 h2, #vx-content.vx-section-number-3 h3 { counter-reset: section2 0 section3 0 section4 0 seciton5 0 section6 0; }
#vx-content.vx-section-number-1 h2, #vx-content.vx-section-number-2 h3, #vx-content.vx-section-number-3 h4 { counter-reset: section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h3, #vx-content.vx-section-number-2 h4, #vx-content.vx-section-number-3 h5 { counter-reset: section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h4, #vx-content.vx-section-number-2 h5 { counter-reset: section5 0 section6 0; }
#vx-content.vx-section-number-1 h5 { counter-reset: section6 0; }
#vx-content.vx-section-number-1 h1::before, #vx-content.vx-section-number-2 h2::before, #vx-content.vx-section-number-3 h3::before { counter-increment: section1 1; content: counter(section1) ". "; }
#vx-content.vx-section-number-1 h2::before, #vx-content.vx-section-number-2 h3::before, #vx-content.vx-section-number-3 h4::before { counter-increment: section2 1; content: counter(section1) "." counter(section2) ". "; }
#vx-content.vx-section-number-1 h3::before, #vx-content.vx-section-number-2 h4::before, #vx-content.vx-section-number-3 h5::before { counter-increment: section3 1; content: counter(section1) "." counter(section2) "." counter(section3) ". "; }
#vx-content.vx-section-number-1 h4::before, #vx-content.vx-section-number-2 h5::before, #vx-content.vx-section-number-3 h6::before { counter-increment: section4 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) ". "; }
#vx-content.vx-section-number-1 h5::before, #vx-content.vx-section-number-2 h6::before { counter-increment: section5 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) ". "; }
#vx-content.vx-section-number-1 h6::before { counter-increment: section6 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) "." counter(section6) ". "; }
#vx-content.vx-constrain-image-width img, #vx-content.vx-constrain-image-width div.vx-plantuml-graph > svg, #vx-content.vx-constrain-image-width div.vx-mermaid-graph, #vx-content.vx-constrain-image-width div.vx-flowchartjs-graph, #vx-content.vx-constrain-image-width div.vx-wavedrom-graph { max-width: 100% !important; height: auto !important; }
figure { margin: auto; }
figcaption { font-style: italic; }
#vx-content.vx-image-align-center figure { text-align: center; }
#vx-content.vx-image-align-center figcaption { text-align: center; }
#vx-content.vx-image-align-center div.vx-plantuml-graph, #vx-content.vx-image-align-center div.vx-mermaid-graph, #vx-content.vx-image-align-center div.vx-flowchartjs-graph, #vx-content.vx-image-align-center div.vx-wavedrom-graph { margin-left: auto; margin-right: auto; }
.vx-table-of-contents ol { list-style: none; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol { counter-reset: toc 0; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
.vx-header-anchor { visibility: hidden; vertical-align: middle; }
.vx-header-anchor::after { content: attr(vx-data-anchor-icon); }
#vx-content h1:hover .vx-header-anchor, #vx-content h2:hover .vx-header-anchor, #vx-content h3:hover .vx-header-anchor, #vx-content h4:hover .vx-header-anchor, #vx-content h5:hover .vx-header-anchor, #vx-content h6:hover .vx-header-anchor { visibility: visible; vertical-align: middle; }
#vx-content.vx-indent-first-line p { text-indent: 2em; }
body.vx-transparent-background { background-color: transparent !important; }
#vx-content.vx-nonscrollable pre { white-space: pre-wrap !important; word-break: break-all !important; overflow: hidden !important; }
#vx-content.vx-nonscrollable pre code { white-space: pre-wrap !important; word-break: break-all !important; }
#vx-content.vx-nonscrollable code, #vx-content.vx-nonscrollable a { word-break: break-all !important; }
body { margin: 0px auto; font-family: "YaHei Consolas Hybrid", "Noto Sans", "Helvetica Neue", "Segoe UI", Helvetica, Tahoma, Arial, Geneva, Georgia, Palatino, "Times New Roman", 冬青黑体, "Microsoft YaHei", 微软雅黑, "Microsoft YaHei UI", "WenQuanYi Micro Hei", 文泉驿雅黑, Dengxian, 等线体, STXihei, 华文细黑, "Liberation Sans", "Droid Sans", NSimSun, 新宋体, SimSun, 宋体, "Apple Color Emoji", "Segoe UI Emoji"; color: rgb(52, 73, 94); line-height: 1.5; padding: 0px; background-color: rgb(255, 255, 255); font-size: 16px; }
h1, h2, h3, h4, h5, h6 { color: rgb(52, 73, 94); font-weight: bold; margin-top: 20px; margin-bottom: 10px; padding: 0px; }
p, blockquote, table { margin: 1.2em 0px; }
ul, ol, dl { margin: 0.4em 0px; }
p { padding: 0px; }
h1 { padding-bottom: 0.4rem; font-size: 2.2rem; line-height: 1.3; }
h2 { font-size: 1.75rem; line-height: 1.225; margin: 35px 0px 15px; padding-bottom: 0.5em; border-bottom: 1px solid rgb(221, 221, 221); }
h3 { font-size: 1.4rem; line-height: 1.43; margin: 20px 0px 7px; }
h4 { font-size: 1.2rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; color: rgb(119, 119, 119); }
a { color: rgb(0, 153, 255); margin: 0px; padding: 0px; vertical-align: baseline; text-decoration: none; word-break: break-word; }
a:hover { text-decoration: underline; }
a:visited { color: rgb(128, 0, 128); }
ul, ol { padding: 0px 0px 0px 24px; }
li { line-height: 24px; }
li ul, li ol { margin-left: 16px; }
p, ul, ol { font-size: 16px; line-height: 24px; }
pre { display: block; overflow: auto hidden; tab-size: 4; }
code { font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; color: rgb(233, 105, 0); padding: 0px 4px; margin: 4px 0px; border-radius: 2px; background-color: rgb(248, 248, 248); word-break: break-word; }
:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) code { font-size: 0.9rem; }
pre code { display: block; padding-left: 0.5em; padding-right: 0.5em; color: rgb(52, 73, 94); background-color: rgb(224, 224, 224); line-height: 1.5; font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; white-space: pre; tab-size: 4; }
aside { display: block; float: right; width: 390px; }
blockquote { color: rgb(102, 102, 102); border-left: 0.5em solid rgb(122, 122, 122); padding: 0px 1em; margin-left: 0px; }
blockquote p { color: rgb(102, 102, 102); }
hr { display: block; text-align: left; margin: 1em 0px; border: none; height: 1px; background-color: rgb(204, 204, 204); }
table { padding: 0px; width: 100%; margin: 1rem 0px; border-collapse: collapse; }
table tr { border-top: 1px solid rgb(204, 204, 204); background-color: white; margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); background-color: rgb(242, 242, 242); text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr th :first-child, table tr td :first-child { margin-top: 0px; }
table tr th :last-child, table tr td :last-child { margin-bottom: 0px; }
div.vx-mermaid-graph { margin: 16px 0px; overflow-y: hidden; }
div.vx-flowchartjs-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-wavedrom-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-plantuml-graph { padding: 5px 5px 0px; margin: 16px 0px; width: fit-content; overflow: hidden; }
::selection { background-color: rgb(25, 118, 210); color: rgb(255, 255, 255); }
::-webkit-scrollbar { background-color: rgb(245, 245, 245); width: 14px; height: 14px; border: none; }
::-webkit-scrollbar-corner { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button { height: 14px; width: 14px; background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button:hover { background-color: rgb(218, 218, 218); }
::-webkit-scrollbar-button:active { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-track { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-thumb { border: none; background-color: rgb(205, 205, 205); }
::-webkit-scrollbar-thumb:hover { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-thumb:active { background-color: rgb(187, 187, 187); }
::-webkit-scrollbar-button:horizontal:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 12L31 24L19 36" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:horizontal:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M31 36L19 24L31 12" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M36 18L24 30L12 18" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 30L25 18L37 30" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
#vx-content span.vx-search-match { color: rgb(34, 34, 34); background-color: rgb(77, 182, 172); }
#vx-content span.vx-current-search-match { color: rgb(34, 34, 34); background-color: rgb(102, 187, 106); }
#vx-content { margin: 0px auto; padding: 30px 30px 40px; }
@media screen and (min-width: 1180px) {
  #vx-content { max-width: 1100px; }
}
@media screen and (max-width: 768px) {
  #vx-content { max-width: 100%; padding: 30px 15px 40px; }
}
.vx-alert { margin: 2em 0px; background-color: rgb(248, 248, 248) !important; padding: 12px 24px 12px 30px !important; border-radius: 0px !important; border-top: none !important; border-right: none !important; border-bottom: none !important; border-image: initial !important; border-left: 4px solid rgb(73, 139, 167) !important; color: inherit !important; }
.vx-alert::before { background-color: rgb(73, 139, 167); border-radius: 100%; color: rgb(255, 255, 255); content: "!"; font-family: Dosis, "Source Sans Pro", "Helvetica Neue", Arial, sans-serif; font-size: 14px; font-weight: bold; left: -12px; line-height: 20px; position: absolute; height: 20px; width: 20px; text-align: center; top: 14px; }
.vx-alert p { margin: 0.4em 0px; }
.alert-success, .alert-s { border-color: rgb(66, 185, 131) !important; }
.alert-success::before, .alert-s::before { background-color: rgb(66, 185, 131); }
.alert-warning, .alert-w { border-color: rgb(255, 165, 2) !important; }
.alert-warning::before, .alert-w::before { background-color: rgb(255, 165, 2); }
.alert-info, .alert-i { border-color: rgb(112, 161, 255) !important; }
.alert-info::before, .alert-i::before { background-color: rgb(112, 161, 255); }
.alert-danger, .alert-d { border-color: rgb(255, 71, 87) !important; }
.alert-danger::before, .alert-d::before { background-color: rgb(255, 71, 87); }
.alert-light { border-color: rgb(193, 193, 193) !important; }
.alert-light::before { background-color: rgb(193, 193, 193); }
.alert-dark { border-color: rgb(72, 72, 72) !important; }
.alert-dark::before { background-color: rgb(72, 72, 72); }
.vx-header-anchor::after { background-color: rgb(238, 238, 238); padding: 0px 5px; border-radius: 3px; }
.vx-header-anchor { color: rgb(153, 153, 153); display: inline-block; margin-left: 10px; }
h1 .vx-header-anchor::after { content: "H1"; }
h2 .vx-header-anchor::after { content: "H2"; }
h3 .vx-header-anchor::after { content: "H3"; }
h4 .vx-header-anchor::after { content: "H4"; }
h5 .vx-header-anchor::after { content: "H5"; }
h6 .vx-header-anchor::after { content: "H6"; }
h1 .vx-header-anchor { margin-top: -5px; }
h2 .vx-header-anchor { margin-top: -4px; }
h3 .vx-header-anchor { margin-top: -3px; }
h4 .vx-header-anchor { margin-top: -2px; }
h5 .vx-header-anchor { margin-top: -1px; }
.vx-alert .code-toolbar pre[class*="language-"] { border: 1px dashed rgb(238, 238, 238); background-color: rgb(243, 243, 243) !important; }
code[class*="language-"], pre[class*="language-"] { color: rgb(82, 82, 82); background: none; text-shadow: white 0px 1px; font-size: 0.9rem; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; }
pre[class*="language-"]::selection, pre[class*="language-"] ::selection, code[class*="language-"]::selection, code[class*="language-"] ::selection { text-shadow: none; background-color: rgb(25, 118, 210); color: white; }
@media print {
  code[class*="language-"], pre[class*="language-"] { text-shadow: none; }
}
pre[class*="language-"] { padding: 1em; margin: 0px; overflow: auto; border-radius: 4px; }
:not(pre) > code[class*="language-"], pre[class*="language-"] { background: rgb(248, 248, 248) !important; }
:not(pre) > code[class*="language-"] { padding: 0.1em; border-radius: 0.3em; white-space: normal; }
.token.comment, .token.prolog, .token.doctype, .token.cdata { color: rgb(170, 85, 0); }
.token.punctuation { color: rgb(153, 153, 153); }
.token.namespace { opacity: 0.7; }
.token.property, .token.tag, .token.boolean, .token.number, .token.constant, .token.symbol, .token.deleted { color: rgb(153, 0, 85); }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted { color: rgb(102, 153, 0); }
.token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string { color: rgb(154, 110, 58); }
.token.atrule, .token.attr-value, .token.keyword { color: rgb(119, 0, 136); }
.token.function, .token.class-name { color: rgb(221, 74, 104); }
.token.regex, .token.important, .token.variable { color: rgb(238, 153, 0); }
.token.important, .token.bold { font-weight: bold; }
.token.italic { font-style: italic; }
.token.entity { cursor: help; }
pre[class*="language-"].line-numbers { position: relative; padding-left: 3.8em; counter-reset: linenumber 0; }
pre[class*="language-"].line-numbers > code { position: relative; white-space: inherit; letter-spacing: 1px; }
.line-numbers .line-numbers-rows { position: absolute; pointer-events: none; top: 0px; font-size: 100%; left: -3.8em; width: 3em; letter-spacing: -1px; border-right: 1px solid rgb(221, 221, 221); color: rgb(153, 153, 153); user-select: none; }
.line-numbers-rows > span { display: block; counter-increment: linenumber 1; }
.line-numbers-rows > span::before { content: counter(linenumber); color: rgb(153, 153, 153); display: block; padding-right: 0.8em; text-align: right; }
div.code-toolbar { position: relative; }
div.code-toolbar > .toolbar { position: absolute; top: 0px; right: 0px; transition: opacity 0.3s ease-in-out 0s; opacity: 0; }
div.code-toolbar:hover > .toolbar { opacity: 1; }
div.code-toolbar:focus-within > .toolbar { opacity: 1; }
div.code-toolbar > .toolbar .toolbar-item { display: inline-block; }
div.code-toolbar > .toolbar a { cursor: pointer; }
div.code-toolbar > .toolbar button { background: none; border: 0px; color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; line-height: normal; overflow: visible; padding: 0px; user-select: none; }
div.code-toolbar > .toolbar a, div.code-toolbar > .toolbar button, div.code-toolbar > .toolbar span { color: rgb(255, 255, 255); font-size: 0.8em; font-weight: bold; padding: 0.2em 0.5em; border-radius: 0px 4px; background-color: rgb(92, 157, 255); }
.vx-image-view-image { transition: all 0.3s ease 0s; }
.vx-modal-box { display: none; position: fixed; z-index: 1000; padding-top: 50px; left: 0px; top: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(51, 56, 66, 0.85); }
.vx-modal-content { margin: auto; display: block; width: auto; height: auto; cursor: move; }
.vx-modal-content { animation-name: zoom; animation-duration: 0.6s; }
@-webkit-keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
span.vx-modal-close { position: absolute; z-index: 1000; top: 15px; right: 35px; color: rgb(171, 178, 191); font-size: 40px; font-weight: bold; transition: all 0.3s ease 0s; }
span.vx-modal-close:hover, span.vx-modal-close:focus { color: rgb(215, 218, 224); text-decoration: none; cursor: pointer; }
ul.contains-task-list { list-style-type: none; }
.vx-alert { position: relative; padding: 0.75rem 1.25rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: 0.25rem; }
.alert-primary { color: rgb(0, 64, 133); background-color: rgb(204, 229, 255); border-color: rgb(184, 218, 255); }
.alert-secondary { color: rgb(56, 61, 65); background-color: rgb(226, 227, 229); border-color: rgb(214, 216, 219); }
.alert-success { color: rgb(21, 87, 36); background-color: rgb(212, 237, 218); border-color: rgb(195, 230, 203); }
.alert-info { color: rgb(12, 84, 96); background-color: rgb(209, 236, 241); border-color: rgb(190, 229, 235); }
.alert-warning { color: rgb(133, 100, 4); background-color: rgb(255, 243, 205); border-color: rgb(255, 238, 186); }
.alert-danger { color: rgb(114, 28, 36); background-color: rgb(248, 215, 218); border-color: rgb(245, 198, 203); }
.alert-light { color: rgb(129, 129, 130); background-color: rgb(254, 254, 254); border-color: rgb(253, 253, 254); }
.alert-dark { color: rgb(27, 30, 33); background-color: rgb(214, 216, 217); border-color: rgb(198, 200, 202); }

    </style>

    <script type="text/javascript">
        var vxOutlineToc = [];

var setVisible = function(node, visible) {
    var cl = 'hide-none';
    if (visible) {
        node.classList.remove(cl);
    } else {
        node.classList.add(cl);
    }
};

var isVisible = function(node) {
    var cl = 'hide-none';
    return !node.classList.contains(cl);
};

var setPostContentExpanded = function(node, expanded) {
    var cl = 'col-expand';
    if (expanded) {
        node.classList.add(cl);
    } else {
        node.classList.remove(cl);
    }
};

var setOutlinePanelVisible = function(visible) {
    var outlinePanel = document.getElementById('outline-panel');
    var postContent = document.getElementById('post-content');

    setVisible(outlinePanel, visible);
    setPostContentExpanded(postContent, !visible);
};

var isOutlinePanelVisible = function() {
    var outlinePanel = document.getElementById('outline-panel');
    return isVisible(outlinePanel);
};

window.addEventListener('load', function() {
    var outlinePanel = document.getElementById('outline-panel');
    outlinePanel.style.display = 'initial';

    var floatingContainer = document.getElementById('container-floating');
    floatingContainer.style.display = 'initial';

    var outlineContent = document.getElementById('outline-content');
    var postContent = document.getElementById('post-content');

    // Escape @text to Html.
    var escapeHtml = function(text) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };

        return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    // Fetch the outline.
    var headers = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
    vxOutlineToc = [];
    for (var i = 0; i < headers.length; ++i) {
        var header = headers[i];

        vxOutlineToc.push({
            level: parseInt(header.tagName.substr(1)),
            anchor: header.id,
            title: escapeHtml(header.textContent)
        });
    }

    if (vxOutlineToc.length == 0) {
        setOutlinePanelVisible(false);
        setVisible(floatingContainer, false);
        return;
    }

    var baseLevel = baseLevelOfToc(vxOutlineToc);
    var tocTree = tocToTree(toPerfectToc(vxOutlineToc, baseLevel), baseLevel);

    outlineContent.innerHTML = tocTree;
    setOutlinePanelVisible(true);
    setVisible(floatingContainer, true);
});

// Return the topest level of @vxOutlineToc, starting from 1.
var baseLevelOfToc = function(p_toc) {
    var level = -1;
    for (i in p_toc) {
        if (level == -1) {
            level = p_toc[i].level;
        } else if (level > p_toc[i].level) {
            level = p_toc[i].level;
        }
    }

    if (level == -1) {
        level = 1;
    }

    return level;
};

// Handle wrong title levels, such as '#' followed by '###'
var toPerfectToc = function(p_toc, p_baseLevel) {
    var i;
    var curLevel = p_baseLevel - 1;
    var perfToc = [];
    for (i in p_toc) {
        var item = p_toc[i];

        // Insert empty header.
        while (item.level > curLevel + 1) {
            curLevel += 1;
            var tmp = { level: curLevel,
                        anchor: '',
                        title: '[EMPTY]'
                      };
            perfToc.push(tmp);
        }

        perfToc.push(item);
        curLevel = item.level;
    }

    return perfToc;
};

var itemToHtml = function(item) {
    return '<a href="#' + item.anchor + '" title="' + item.title + '" data="' + item.anchor + '">' + item.title + '</a>';
};

// Turn a perfect toc to a tree using <ul>
var tocToTree = function(p_toc, p_baseLevel) {
    var i;
    var front = '<li>';
    var ending = ['</li>'];
    var curLevel = p_baseLevel;
    for (i in p_toc) {
        var item = p_toc[i];
        if (item.level == curLevel) {
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        } else if (item.level > curLevel) {
            // assert(item.level - curLevel == 1)
            front += '<ul>';
            ending.push('</ul>');
            front += '<li>';
            front += itemToHtml(item);
            ending.push('</li>');
            curLevel = item.level;
        } else {
            while (item.level < curLevel) {
                var ele = ending.pop();
                front += ele;
                if (ele == '</ul>') {
                    curLevel--;
                }
            }
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        }
    }
    while (ending.length > 0) {
        front += ending.pop();
    }
    front = front.replace("<li></li>", "");
    front = '<ul>' + front + '</ul>';
    return front;
};

var toggleMore = function() {
    if (vxOutlineToc.length == 0) {
        return;
    }

    var p = document.getElementById('floating-more');
    if (isOutlinePanelVisible()) {
        p.textContent = '<';
        setOutlinePanelVisible(false);
    } else {
        p.textContent = '>';
        setOutlinePanelVisible(true);
    }
};

window.addEventListener('scroll', function() {
    if (vxOutlineToc.length == 0 || !isOutlinePanelVisible()) {
        return;
    }

    var postContent = document.getElementById('post-content');
    var scrollTop = document.documentElement.scrollTop
                    || document.body.scrollTop
                    || window.pageYOffset;
    var eles = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");

    if (eles.length == 0) {
        return;
    }

    var idx = -1;
    var biaScrollTop = scrollTop + 50;
    for (var i = 0; i < eles.length; ++i) {
        if (biaScrollTop >= eles[i].offsetTop) {
            idx = i;
        } else {
            break;
        }
    }

    var header = '';
    if (idx != -1) {
        header = eles[idx].id;
    }

    highlightItemOnlyInOutline(header);
});

var highlightItemOnlyInOutline = function(id) {
    var cl = 'outline-bold';
    var outlineContent = document.getElementById('outline-content');
    var eles = outlineContent.querySelectorAll("a");
    var target = null;
    for (var i = 0; i < eles.length; ++i) {
        var ele = eles[i];
        if (ele.getAttribute('data') == id) {
            target = ele;
            ele.classList.add(cl);
        } else {
            ele.classList.remove(cl);
        }
    }

    // TODO: scroll target into view within the outline panel scroll area.
};

    </script>

    <!-- VX_SCRIPTS_PLACEHOLDER -->

    <!-- VX_HEAD_PLACEHOLDER -->
</head>
<body class="vx-transparent-background">
    <div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <!-- VX_OUTLINE_PANEL_START -->
        <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
            <div id="outline-content" class="section-nav"></div>
        </div>
        <!-- VX_OUTLINE_PANEL_END -->

        <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
        <div id="vx-content" class="vx-constrain-image-width line-numbers"><h1 id="使用-docker-製作-petalinux-2022.1-的-os-image" class="source-line" data-source-line="0">使用 Docker 製作 PetaLinux 2022.1 的 OS image<a class="vx-header-anchor" href="#使用-docker-製作-petalinux-2022.1-的-os-image" vx-data-anchor-icon="¶"></a></h1>
<h2 id="安裝-docker" class="source-line" data-source-line="2">安裝 docker<a class="vx-header-anchor" href="#安裝-docker" vx-data-anchor-icon="¶"></a></h2>
<h3 id="ubuntu" class="source-line" data-source-line="4">Ubuntu<a class="vx-header-anchor" href="#ubuntu" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="6"><span class="token function">apt</span> <span class="token function">install</span> docker.io docker-buildx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<h3 id="archlinux" class="source-line" data-source-line="10">ArchLinux<a class="vx-header-anchor" href="#archlinux" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="12">pacman -S docker docker-buildx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<h2 id="建立-docker-image" class="source-line" data-source-line="16">建立 docker image<a class="vx-header-anchor" href="#建立-docker-image" vx-data-anchor-icon="¶"></a></h2>
<h3 id="ubuntu-20.04" class="source-line" data-source-line="18">Ubuntu 20.04<a class="vx-header-anchor" href="#ubuntu-20.04" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="20">Dockerfile.ubuntu20.04</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="22">$ docker build --no-cache -t petalinux.build:20.04 -f Dockerfile.ubuntu20.04 <span class="token builtin class-name">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="26">檢視 docker image 建立結果</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="28">$ docker images
REPOSITORY        TAG       IMAGE ID       CREATED          SIZE
petalinux.build   <span class="token number">20.04</span>     0ff139a32236   <span class="token number">24</span> seconds ago   <span class="token number">1</span>.05GB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div>
<h3 id="ubuntu-18.04" class="source-line" data-source-line="34">Ubuntu 18.04<a class="vx-header-anchor" href="#ubuntu-18.04" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="36">Dockerfile.ubuntu18.04</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="38">$ docker build --no-cache -t petalinux.build:18.04 -f Dockerfile.ubuntu18.04 <span class="token builtin class-name">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="42">檢視 docker image 建立結果</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="44">$ docker images                                                     
REPOSITORY        TAG       IMAGE ID       CREATED          SIZE
petalinux.build   <span class="token number">18.04</span>     c0fec72ff948   <span class="token number">10</span> seconds ago   854MB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div>
<h2 id="建立及啓動-docker-container" class="source-line" data-source-line="50">建立及啓動 docker container<a class="vx-header-anchor" href="#建立及啓動-docker-container" vx-data-anchor-icon="¶"></a></h2>
<h3 id="建立和檢視-docker-container" class="source-line" data-source-line="52">建立和檢視 docker container<a class="vx-header-anchor" href="#建立和檢視-docker-container" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="54">docker create -it <span class="token operator">&lt;</span>image<span class="token operator">&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<blockquote>
<p class="source-line" data-source-line="58">option -it 要指定，才能正確進入 container</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="60">-i, --interactive                      Keep STDIN open even if not attached
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="63">-t, --tty                              Allocate a pseudo-TTY
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</blockquote>
<p class="source-line" data-source-line="67">檢視 docker image 建立結果</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="69">docker <span class="token function">ps</span> -a
docker container <span class="token function">ls</span> -a
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>
<p class="source-line" data-source-line="74">例如建立一個依附於 image <code>0ff139a32236</code> 的 container</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="76">$ docker create 0ff139a32236
3b36f11cd26e6b38d7585ab12db0aa119eca25117bb0b1a39fefba8ddefaa624
$ docker <span class="token function">ps</span> -a
CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS                      PORTS     NAMES
3b36f11cd26e   0ff139a32236   <span class="token string">"/bin/bash"</span>   <span class="token number">30</span> seconds ago   Created                               inspiring_dijkstra
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<h3 id="啓動-container" class="source-line" data-source-line="84">啓動 container<a class="vx-header-anchor" href="#啓動-container" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="86">docker container start <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="90">例如啓動 container <code>3b36f11cd26e</code></p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="92">$ docker container start 3b36f11cd26e
3b36f11cd26e
$ docker <span class="token function">ps</span> -a
CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS                      PORTS     NAMES
3b36f11cd26e   0ff139a32236   <span class="token string">"/bin/bash"</span>   <span class="token number">9</span> minutes ago    Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">8</span> seconds ago              inspiring_dijkstra
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<h3 id="進入-container" class="source-line" data-source-line="100">進入 container<a class="vx-header-anchor" href="#進入-container" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="102">docker container attach <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="106">例如進入 container <code>3b36f11cd26e</code></p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="108">$ docker attach 3b36f11cd26e
petalinux@3b36f11cd26e:~$ 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>
<h2 id="安裝-petalinux-2022.1" class="source-line" data-source-line="113">安裝 PetaLinux 2022.1<a class="vx-header-anchor" href="#安裝-petalinux-2022.1" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="115">完整安裝步驟請見 PetaLinux Tools Documentation: Reference Guide (UG1144) 的 <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Installation-Steps">Installation Steps</a></p>
<h3 id="下載-petalinux-2022.1-installer" class="source-line" data-source-line="117">下載 PetaLinux 2022.1 installer<a class="vx-header-anchor" href="#下載-petalinux-2022.1-installer" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="119">進入 <a href="https://www.xilinx.com/member/forms/download/xef.html?filename=petalinux-v2022.1-04191534-installer.run">https://www.xilinx.com/member/forms/download/xef.html?filename=petalinux-v2022.1-04191534-installer.run</a> 下載</p>
<blockquote>
<p class="source-line" data-source-line="121">須要註冊帳號</p>
</blockquote>
<p class="source-line" data-source-line="123">下載後依照 PetaLinux Tools Documentation: Reference Guide (UG1144) 的 <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Installing-the-PetaLinux-Tool">Installing the PetaLinux Tool</a> 的說明進行安裝</p>
<p class="source-line" data-source-line="125">在 docker container 中安裝 PetaLinux 可有幾種選擇</p>
<ul>
<li class="source-line" data-source-line="127">直接安裝在 docker container 中
<ul>
<li class="source-line" data-source-line="128">優點: 簡單</li>
<li class="source-line" data-source-line="129">缺點:
<ul>
<li class="source-line" data-source-line="130">若有超過一個 docker container 會用到 PetaLinux，例如 Ubuntu 20.04 和 18.04，則會有多份 PetaLinux</li>
<li class="source-line" data-source-line="131">若不小心移除未更新到 image 的 container，則所有 container 中的資料都會消失</li>
</ul>
</li>
</ul>
</li>
<li class="source-line" data-source-line="132">安裝在 host，再連接進 docker container
<ul>
<li class="source-line" data-source-line="133">優點: docker container 可共用 PetaLinux</li>
<li class="source-line" data-source-line="134">缺點:
<ul>
<li class="source-line" data-source-line="135">建立 docker container 時須指定 volume 連接</li>
<li class="source-line" data-source-line="136">host 及 container 共用 volume 的 user 及 group ID 要相同</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="source-line" data-source-line="138">直接安裝在 docker container 的方式依照 reference guide 的說明安裝即可</p>
<p class="source-line" data-source-line="140">以下爲安裝 PetaLinux 在 host 的說明</p>
<ul>
<li class="source-line" data-source-line="142">PetaLinux 2022.1 installer: <code>petalinux-v2022.1-04191534-installer.run</code></li>
<li class="source-line" data-source-line="143">共用 volume: <code>/opt</code></li>
<li class="source-line" data-source-line="144">PetaLinux 安裝目錄: <code>/opt/petalinux/2022.1</code></li>
</ul>
<h3 id="create-docker-container" class="source-line" data-source-line="146">Create docker container<a class="vx-header-anchor" href="#create-docker-container" vx-data-anchor-icon="¶"></a></h3>
<p class="source-line" data-source-line="148">以 host 及 docker container 共用 /opt 目錄爲例</p>
<p class="source-line" data-source-line="150">image 和 container ID 請以實際的 ID 爲主</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="152">$ docker create -it --privileged -v /opt:/opt <span class="token operator">&lt;</span>image<span class="token operator">&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<ul>
<li class="source-line" data-source-line="156"><code>--privileged</code>: 給 container 更多的權限來讀寫 device 等</li>
<li class="source-line" data-source-line="157"><code>-v</code>: 就是 <code>--volume</code>，連接 host 及 contaiuner 的 volume
<ul>
<li class="source-line" data-source-line="158"><code>-v /opt:/opt</code>: 把 host 的 /opt 目錄連接到 container 的 /opt 目錄</li>
</ul>
</li>
</ul>
<h3 id="start-and-attach-container" class="source-line" data-source-line="160">Start and attach container<a class="vx-header-anchor" href="#start-and-attach-container" vx-data-anchor-icon="¶"></a></h3>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="162">$ docker start <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
$ docker attach <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>
<h3 id="安裝-petaliinux" class="source-line" data-source-line="167">安裝 PetaLiinux<a class="vx-header-anchor" href="#安裝-petaliinux" vx-data-anchor-icon="¶"></a></h3>
<h4 id="in-host" class="source-line" data-source-line="169">In host<a class="vx-header-anchor" href="#in-host" vx-data-anchor-icon="¶"></a></h4>
<ul>
<li class="source-line" data-source-line="171">Create directory /opt/petalinux and change owner<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="172"><span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/petalinux
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token number">1000</span>:1000 /opt/petalinux
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>
</li>
<li class="source-line" data-source-line="176">把下載的 PetaLinux installer <code>petalinux-v2022.1-04191534-installer.run</code>複製到 <code>/opt/petalinux</code><br>
必要時要變更 owner</li>
</ul>
<h4 id="in-container" class="source-line" data-source-line="179">In container<a class="vx-header-anchor" href="#in-container" vx-data-anchor-icon="¶"></a></h4>
<ul>
<li class="source-line" data-source-line="181">執行 <code>/opt/petalinux/petalinux-v2022.1-04191534-installer.run</code> 安裝 PetaLinux 到 <code>/opt/petalinux/2022.1</code><div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="182">$ /opt/petalinux/petalinux-v2022.1-04191534-installer.run -d /opt/petalinux/2022.1
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</li>
</ul>
<h2 id="build-petalinux-os-image" class="source-line" data-source-line="186">Build PetaLinux OS image<a class="vx-header-anchor" href="#build-petalinux-os-image" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="188">建立 PetaLinux project 的詳細步驟請見 PetaLinux Tools Documentation: Reference Guide (UG1144) 的 <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Creating-a-Project">Creating a Project</a> 的說明</p>
<ul>
<li class="source-line" data-source-line="190">
<p class="source-line" data-source-line="190">進入 container</p>
</li>
<li class="source-line" data-source-line="191">
<p class="source-line" data-source-line="191">建立工作目錄並進入工作目錄</p>
<ul>
<li class="source-line" data-source-line="192">例如 /opt/petalinux/project<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="193">$ <span class="token function">mkdir</span> -p /opt/petalinux/project
$ <span class="token builtin class-name">cd</span> /opt/petalinux/project
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>
</li>
</ul>
</li>
<li class="source-line" data-source-line="197">
<p class="source-line" data-source-line="197">進入 PetaLinux environment</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="198">$ <span class="token builtin class-name">source</span> /opt/petalinux/2022.1/settings.sh
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</li>
<li class="source-line" data-source-line="201">
<p class="source-line" data-source-line="201">建立 ULinkSat SDR 專案</p>
<ul>
<li class="source-line" data-source-line="202">
<p class="source-line" data-source-line="202">從 Google driver 下載 PetaLinux BSP file  <a href="https://drive.google.com/file/d/1G5KvSNHeh9afg2nyq2xjCmeNE-C3sm1R/view?usp=drive_link">ULinkSat-SDR.release.bsp</a></p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="204">$ petalinux-create -t project -s ULinkSat-SDR.release.bsp
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</li>
</ul>
</li>
<li class="source-line" data-source-line="207">
<p class="source-line" data-source-line="207">Setup system configuration</p>
<ul>
<li class="source-line" data-source-line="208">例如變更 rootfs<br>
<img src="./images/8c359ac0-2a31-452a-8d74-a8caa44cfb78.png" alt="8c359ac0-2a31-452a-8d74-a8caa44cfb78" class="vx-image-view-image"><br>
<img src="./images/0bca2b5d-3665-42e8-8028-b996f5deca45.png" alt="0bca2b5d-3665-42e8-8028-b996f5deca45" class="vx-image-view-image"><br>
<img src="./images/92369135-aa6c-4ac4-9fa3-368db7ec2e40.png" alt="92369135-aa6c-4ac4-9fa3-368db7ec2e40" class="vx-image-view-image"><br>
詳細 petalinux-config 操作見 PetaLinux Tools Documentation: Reference Guide (UG1144) 的 <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Customizing-the-Project">Customizing the Project</a></li>
</ul>
  <br>
<ul>
<li class="source-line" data-source-line="216">
<p class="source-line" data-source-line="216">若無需變更，可執行以下指令建立 build directory</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="218">$ petalinux-config --silent
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</li>
</ul>
</li>
<li class="source-line" data-source-line="221">
<p class="source-line" data-source-line="221">調整其他設置</p>
<ul>
<li class="source-line" data-source-line="222">
<p class="source-line" data-source-line="222">例如指定 PetaLinux download cache 來減少 build image 的時間，以下說明用 symbolic link 方式連接 download cache 路徑 <code>/opt/petalinux/cache/2022.1/downloads</code></p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="224">$ <span class="token builtin class-name">cd</span> build
$ <span class="token function">ln</span> -snf /opt/petalinux/cache/2022.1/downloads <span class="token builtin class-name">.</span>
$ <span class="token builtin class-name">cd</span> -
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div>
</li>
</ul>
</li>
<li class="source-line" data-source-line="229">
<p class="source-line" data-source-line="229">Build project</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="230">$ petalinux-build
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
</li>
<li class="source-line" data-source-line="233">
<p class="source-line" data-source-line="233">建立 image packages</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="234">$ petalinux-package --force --prebuilt <span class="token operator">&amp;&amp;</span> petalinux-package --force --boot --fsbl images/linux/zynq_fsbl.elf --fpga images/linux/system_top.bit --u-boot images/linux/u-boot.elf
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="238">成功後，image packages 在 <code>images/linux</code> 目錄</p>
</li>
</ul>
<h2 id="燒錄-os-image" class="source-line" data-source-line="240">燒錄 OS image<a class="vx-header-anchor" href="#燒錄-os-image" vx-data-anchor-icon="¶"></a></h2>
<p class="source-line" data-source-line="242"><a href="https://drive.google.com/file/d/1G5KvSNHeh9afg2nyq2xjCmeNE-C3sm1R/view?usp=drive_link">ULinkSat-SDR.release.bsp</a> 的 rootfs 爲 Ext4，可以需求執行 <code>petalinux-config</code> 調整</p>
<ul>
<li class="source-line" data-source-line="244">
<p class="source-line" data-source-line="244">Ext4</p>
<ul>
<li class="source-line" data-source-line="246">
<p class="source-line" data-source-line="246">利用 tar.gz 包</p>
<ul>
<li class="source-line" data-source-line="248">
<p class="source-line" data-source-line="248">參考 PetaLinux Tools Documentation: Reference Guide (UG1144) 的 <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Booting-PetaLinux-Image-on-Hardware-with-an-SD-Card">Booting PetaLinux Image on Hardware with an SD Card</a> 說明製作 bootable SD card</p>
</li>
<li class="source-line" data-source-line="250">
<p class="source-line" data-source-line="250">或參考 <a href="https://drive.google.com/file/d/1yWu4EHlhasOl4lUP-ryZS7h1YrAPtkvt/view?usp=drive_link">prog_ext4_sd.sh</a> 進行燒錄</p>
</li>
</ul>
</li>
<li class="source-line" data-source-line="252">
<p class="source-line" data-source-line="252">利用 WIC image</p>
<ul>
<li class="source-line" data-source-line="254">
<p class="source-line" data-source-line="254">製作 WIC image 的方式見 PetaLinux Tools Documentation: Reference Guide (UG1144) <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/petalinux-package-wic-Command-Examples">petalinux-package --wic Command Examples</a></p>
</li>
<li class="source-line" data-source-line="256">
<p class="source-line" data-source-line="256"><code>petalinux-package --wic</code> 製作出的 image 有 6GB，要減少燒錄時間可參考 <a href="https://drive.google.com/file/d/1ayfRlSvscsBjNAyenX1XbXIh7-pYShpP/view?usp=drive_link">prog_wic.sh</a> 利用 bmap file 的方式行之</p>
<blockquote>
<p class="source-line" data-source-line="258">注意:</p>
<p class="source-line" data-source-line="260">實作發現用 bmap file 會出現開機失敗情形，對策是重新複製 BOOT.BIN 帶 boot partition 及可，<a href="https://drive.google.com/file/d/1ayfRlSvscsBjNAyenX1XbXIh7-pYShpP/view?usp=drive_link">prog_wic.sh</a> 有進行這個修正</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li class="source-line" data-source-line="262">
<p class="source-line" data-source-line="262">JFFS2</p>
<ul>
<li class="source-line" data-source-line="264">Setup JFFS2 boot
<ul>
<li class="source-line" data-source-line="265">
<p class="source-line" data-source-line="265">設置 JFFS2 rootfs 的方式可參考 PetaLinux Tools Documentation: Reference Guide (UG1144) <a href="https://docs.amd.com/r/2022.1-English/ug1144-petalinux-tools-reference-guide/Configuring-JFFS2-Boot">Configuring JFFS2 Boot</a>，但要注意坑不少</p>
</li>
<li class="source-line" data-source-line="267">
<p class="source-line" data-source-line="267">若僅切換 ULinkSat SDR 爲 JFFS2 boot，可參考以下 shell script</p>
<div class="code-toolbar"><pre class="language-shell line-numbers"><code class="source-line language-shell" data-source-line="269"><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">msg_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">"<span class="token entity" title="\e">\e</span>[0;32m<span class="token variable">${1}</span><span class="token entity" title="\e">\e</span>[0m"</span>
<span class="token punctuation">}</span>

<span class="token function-name function">msg_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">"[ERROR] <span class="token entity" title="\e">\e</span>[0;31m<span class="token variable">${1}</span><span class="token entity" title="\e">\e</span>[0m"</span>
<span class="token punctuation">}</span>

<span class="token function-name function">error_exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg_error <span class="token string">"<span class="token variable">${1}</span>"</span>
    <span class="token boolean">false</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token function-name function">disable_all_rootfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg_info <span class="token string">"----&gt;&gt;&gt; Disable all rootfs types"</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> <span class="token variable">${FS_LST}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token assign-left variable">f</span><span class="token operator">=</span><span class="token string">"CONFIG_SUBSYSTEM_ROOTFS_<span class="token variable">${f}</span>"</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${TEST}</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${f}</span>"</span>
        <span class="token function">sed</span> <span class="token variable">${SED_OPTS}</span> <span class="token string">"s/.*<span class="token variable">${f}</span>.*/# <span class="token variable">${f}</span> is not set/g"</span> <span class="token variable">${SYSCONF}</span>
    <span class="token keyword">done</span>
<span class="token punctuation">}</span>

<span class="token function-name function">disable_all_jffs2_erase_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">local</span> <span class="token assign-left variable">size_lst</span><span class="token operator">=</span><span class="token string">"4 8 16 32 64 128 256 512"</span>
    msg_info <span class="token string">"----&gt;&gt;&gt; Disable all JFFS2 erase sizes"</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">s</span> <span class="token keyword">in</span> <span class="token variable">${size_lst}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token string">"CONFIG_SUBSYSTEM_JFFS2_ERASE_SIZE_<span class="token variable">${s}</span>"</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${TEST}</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${s}</span>"</span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">grep</span> $<span class="token punctuation">{</span>s<span class="token punctuation">}</span> <span class="token operator">&lt;&lt;&lt;</span> $<span class="token punctuation">{</span>SYSCONF<span class="token punctuation">}</span><span class="token variable">)</span></span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
            <span class="token function">sed</span> <span class="token variable">${SED_OPTS}</span> <span class="token string">"s/.*<span class="token variable">${s}</span>.*/# <span class="token variable">${s}</span> is not set/g"</span> <span class="token variable">${SYSCONF}</span>
        <span class="token keyword">else</span>
            <span class="token builtin class-name">echo</span> <span class="token string">"# <span class="token variable">${s}</span> is not set"</span> <span class="token operator">&gt;&gt;</span>  <span class="token variable">${SYSCONF}</span>
        <span class="token keyword">fi</span>
    <span class="token keyword">done</span>
      
    <span class="token builtin class-name">unset</span> size_lst
<span class="token punctuation">}</span>

<span class="token function-name function">chg_rootfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token variable">${FS_TYPE}</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> error_exit <span class="token string">"Rootfs type not assign."</span>

    <span class="token assign-left variable">FS_TYPE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $<span class="token punctuation">{</span>FS_TYPE<span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'[:lower:]'</span> <span class="token string">'[:upper:]'</span><span class="token variable">)</span></span>
    msg_info <span class="token string">"----&gt;&gt;&gt; Set rootfs to <span class="token variable">${FS_TYPE}</span>"</span>

    <span class="token assign-left variable">FS_LST</span><span class="token operator">=</span><span class="token string">"INITRAMFS INITRD JFFS2 UBIFS EXT4 OTHER"</span>
    <span class="token assign-left variable">FS_FOUND</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">f</span> <span class="token keyword">in</span> <span class="token variable">${FS_LST}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${f}</span> <span class="token operator">!=</span> <span class="token variable">${FS_TYPE}</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">continue</span>
        <span class="token assign-left variable">FS_FOUND</span><span class="token operator">=</span><span class="token number">1</span>
        <span class="token builtin class-name">break</span>
    <span class="token keyword">done</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${FS_FOUND}</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> error_exit <span class="token string">"Rootfs <span class="token variable">${FS_TYPE}</span> not supported"</span>

    <span class="token comment"># Disable all rootfs types</span>
    disable_all_rootfs


    msg_info <span class="token string">"----&gt;&gt;&gt; Enable rootfs <span class="token variable">${FS_TYPE}</span>"</span>
    <span class="token assign-left variable">ERASE_SIZE</span><span class="token operator">=</span><span class="token string">"4"</span>
    <span class="token assign-left variable">f</span><span class="token operator">=</span><span class="token string">"CONFIG_SUBSYSTEM_ROOTFS_<span class="token variable">${FS_TYPE}</span>"</span>
    <span class="token function">sed</span> <span class="token variable">${SED_OPTS}</span> <span class="token string">"s/.*<span class="token variable">${f}</span>.*/<span class="token variable">${f}</span>=y/g"</span> <span class="token variable">${SYSCONF}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">sync</span> <span class="token operator">||</span> error_exit <span class="token string">"Failed to change rootfs type"</span>
    <span class="token keyword">case</span> <span class="token variable">${FS_TYPE}</span> <span class="token keyword">in</span>
        <span class="token string">'JFFS2'</span><span class="token punctuation">)</span>
            disable_all_jffs2_erase_size
            msg_info <span class="token string">"----&gt;&gt;&gt; Set JFFS2 erase size to <span class="token variable">${ERASE_SIZE}</span>K"</span>
            <span class="token function">sed</span> <span class="token variable">${SED_OPTS}</span> <span class="token string">"s/.*CONFIG_SUBSYSTEM_JFFS2_ERASE_SIZE_<span class="token variable">${ERASE_SIZE}</span>.*/CONFIG_SUBSYSTEM_JFFS2_ERASE_SIZE_<span class="token variable">${ERASE_SIZE}</span>=y/g"</span> <span class="token variable">${SYSCONF}</span> <span class="token operator">&amp;&amp;</span> <span class="token function">sync</span> <span class="token operator">||</span> error_exit <span class="token string">"Failed to change JFFS erase size"</span> 
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>

    msg_info <span class="token string">"----&gt;&gt;&gt; Update system config"</span>
    petalinux-config --silent <span class="token operator">||</span> error_exit <span class="token string">"Failed to update system config"</span>
<span class="token punctuation">}</span>

<span class="token function-name function">print_usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Usage: <span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $0<span class="token variable">)</span></span> [-r &lt;rootfs&gt;] [-t]"</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token assign-left variable">cmdpath</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token punctuation">$(</span>readlink -f $0<span class="token punctuation">)</span><span class="token variable">)</span></span>

<span class="token keyword">while</span> <span class="token builtin class-name">getopts</span> <span class="token string">"r:m:qth"</span> arg
<span class="token keyword">do</span>
    <span class="token keyword">case</span> <span class="token variable">$arg</span> <span class="token keyword">in</span>
        r<span class="token punctuation">)</span>
            <span class="token assign-left variable">FS_TYPE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">tr</span> <span class="token string">'[:upper:]'</span> <span class="token string">'[:lower:]'</span> <span class="token operator">&lt;&lt;&lt;</span> $<span class="token punctuation">{</span>OPTARG<span class="token punctuation">}</span><span class="token variable">)</span></span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        t<span class="token punctuation">)</span>
            <span class="token assign-left variable">TEST</span><span class="token operator">=</span><span class="token number">1</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        ?<span class="token operator">|</span>h<span class="token punctuation">)</span>
            print_usage
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">shift</span> <span class="token variable"><span class="token variable">$((</span>OPTIND <span class="token operator">-</span> <span class="token number">1</span><span class="token variable">))</span></span>
<span class="token assign-left variable">PROJDIR</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$@</span>"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token variable">${PROJDIR}</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token assign-left variable">PROJDIR</span><span class="token operator">=</span><span class="token string">"."</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> -d <span class="token variable">${PROJDIR}</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">||</span> error_exit <span class="token string">"Directory <span class="token variable">${PROJDIR}</span> not found"</span>

<span class="token assign-left variable">TEST</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">SED_OPTS</span><span class="token operator">=</span><span class="token string">"-e"</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${TEST}</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token assign-left variable">SED_OPTS</span><span class="token operator">=</span><span class="token string">"-i <span class="token variable">${SED_OPTS}</span>"</span>

<span class="token assign-left variable">SYSCONF</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${PROJDIR}</span>/project-spec/configs/config"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token variable">${FS_TYPE}</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">||</span> chg_rootfs
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li>
</ul>
</li>
<li class="source-line" data-source-line="384">燒錄 JFFS2
<ul>
<li class="source-line" data-source-line="385">
<p class="source-line" data-source-line="385">不建議用 PetaLinux Tools Documentation: Reference Guide (UG1144) 的方式燒錄，用 Vitis 比較穩妥</p>
</li>
<li class="source-line" data-source-line="387">
<p class="source-line" data-source-line="387">Vitis 不用安裝在 docker container，可安裝在其他平臺</p>
</li>
<li class="source-line" data-source-line="389">
<p class="source-line" data-source-line="389">安裝 Vitis</p>
<ul>
<li class="source-line" data-source-line="390">
<p class="source-line" data-source-line="390">燒錄 flash 需要 Xilinx 的 xsct，PetaLinux 沒有，須安裝 Vitis</p>
</li>
<li class="source-line" data-source-line="392">
<p class="source-line" data-source-line="392">從 <a href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vitis.html">https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vitis.html</a> 下載 Vitis installer</p>
</li>
<li class="source-line" data-source-line="393">
<p class="source-line" data-source-line="393">安裝方式請自行參考 Vitis Release Notes And Installation Guide (UG1742) 的 <a href="https://docs.amd.com/r/en-US/ug1742-vitis-release-notes/Vitis-Software-Platform-Installation">Vitis Software Platform Installation</a></p>
</li>
</ul>
</li>
<li class="source-line" data-source-line="394">
<p class="source-line" data-source-line="394">燒錄</p>
<ul>
<li class="source-line" data-source-line="395">SDR 切換到 JTAG mode</li>
<li class="source-line" data-source-line="396">使用 Vitis GUI
<ul>
<li class="source-line" data-source-line="397">​    請直接參考 Vitis document</li>
</ul>
</li>
<li class="source-line" data-source-line="398">Vitis CLI program_flash
<ul>
<li class="source-line" data-source-line="399">​    參考 <a href="https://drive.google.com/file/d/1FJiqBr8NpmHZrcXhIG4xonrOiiDbeT3E/view?usp=drive_link">prog_jffs2.sh</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
    </div>
    </div>

    <!-- VX_OUTLINE_BUTTON_START -->
    <div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
        <div id="floating-button" onclick="toggleMore()">
            <p id="floating-more" class="more">&gt;</p>
        </div>
    </div>
    <!-- VX_OUTLINE_BUTTON_END -->
</body>
</html>
